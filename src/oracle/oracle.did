type endpoint = record {
    url: text;
    resolver: text;
};

type subscription = record {
    contract_address: text;
    method: text;
    abi: blob;
};

service : {
    get_address: () -> (variant { Ok: text; Err: text });
    init: (vec endpoint, nat64, nat64, text) -> (variant { Ok: null; Err: text });
    setup: () -> (variant { Ok: null; Err: text });
    stop_fetcher: () -> (text);
    subscribe: (text, text) -> (text);
}
